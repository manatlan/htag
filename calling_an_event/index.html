
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="GUI toolkit for building GUI toolikit (for building applications for desktop, web, and mobile from a single python3 codebase)">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Calling an event : the complete guide ;-) - HTag's Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#calling-an-event-the-complete-guide-" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HTag&#39;s Docs" class="md-header__button md-logo" aria-label="HTag's Docs" data-md-component="logo">
      
  <img src="../htag.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HTag's Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Calling an event : the complete guide ;-)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/manatlan/htag" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    manatlan/htag
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HTag&#39;s Docs" class="md-nav__button md-logo" aria-label="HTag's Docs" data-md-component="logo">
      
  <img src="../htag.png" alt="logo">

    </a>
    HTag's Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/manatlan/htag" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    manatlan/htag
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Runners
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-of-all" class="md-nav__link">
    <span class="md-ellipsis">
      First of all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-simple-way" class="md-nav__link">
    <span class="md-ellipsis">
      The simple way ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pass-arguments-in-direct-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Pass arguments (in 'direct' calls)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pass-arguments-using-the-bind-in-direct-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Pass arguments, using the "bind" (in 'direct' calls)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#passing-arguments-in-undirect-calls" class="md-nav__link">
    <span class="md-ellipsis">
      passing arguments (in "undirect calls"))
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-oldhistoric-way" class="md-nav__link">
    <span class="md-ellipsis">
      The old/historic way
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-caller-object" class="md-nav__link">
    <span class="md-ellipsis">
      The Caller object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#others-ways-using-tagjs-property" class="md-nav__link">
    <span class="md-ellipsis">
      Others ways (using Tag.js property)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#others-ways-using-tagcall-method" class="md-nav__link">
    <span class="md-ellipsis">
      Others ways (using Tag.call method)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-event-properties-from-guijs" class="md-nav__link">
    <span class="md-ellipsis">
      Using the event properties from gui/js
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-expose-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Using the @expose decorator
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="calling-an-event-the-complete-guide-">Calling an event : the complete guide ;-)</h1>
<p>After months of use, and more than 100 htag apps later, here are my notes ;-)</p>
<p><strong>TODO</strong>: talk about the "ev" mechanism introduced in "htag 0.100.x"</p>
<h2 id="first-of-all">First of all</h2>
<p>You should really understand than setting an onclick event, is just a javascript call. So this thing will work as expected, on client side :</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="n">_onclick</span><span class="o">=</span><span class="s2">&quot;alert(42)&quot;</span><span class="p">)</span>
</code></pre></div>
It will call a javascript statement <code>alert(42)</code>, which will display a js alert box. It's the base.
But it's not a htag interaction ... just a js interaction.</p>
<h2 id="the-simple-way">The simple way ...</h2>
<p>to call an htag interaction ... could be:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">):</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">object_which_has_emitted_the_event</span> <span class="p">)</span>
</code></pre></div>
<p>The <code>_onclick</code> parameter declares the callback on the "onclick" event of the button.
When you click the button, htag will emit an "interaction" between the GUI/client_side and the back/serverside/your_python_code.
In the callback : the first, and only argument, is the instance of the object which has emitted the event.</p>
<p>This kind of interaction is called "direct" : the callback is directly called during the interaction.</p>
<div class="admonition note">
<p class="admonition-title">For your interest ... it exactly the same construction as</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>        <span class="n">button</span><span class="o">=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        <span class="n">button</span><span class="p">[</span><span class="s2">&quot;onclick&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="p">)</span> <span class="c1"># declare event, post button construction</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">button</span>
</code></pre></div>
The method <code>&lt;instance&gt;.bind( method, **args, **kargs )</code> is the natural way to bind an "event", in all cases.</p>
</div>
<p>BTW, I think it's a good practice to not poluate the inner namespaces of the instance, by declaring methods which has only one client. Here we could do:
(as is, you keep your code more consistant, and less confusing)
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="n">object_which_has_emitted_the_event</span><span class="p">):</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>            <span class="nb">print</span><span class="p">(</span> <span class="n">object_which_has_emitted_the_event</span> <span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="n">clicked</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="pass-arguments-in-direct-calls">Pass arguments (in 'direct' calls)</h2>
<p>If you want to pass arguments : a really good practice is to set them on the instance of the object, and get back in the callback.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click A&quot;</span><span class="p">,</span> <span class="n">my_arg</span><span class="o">=</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click B&quot;</span><span class="p">,</span> <span class="n">my_arg</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">):</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">object_which_has_emitted_the_event</span><span class="o">.</span><span class="n">my_arg</span> <span class="p">)</span>
</code></pre></div>
<p>It's a really good practice to adopt this kind of technics, for 95% of your events, and you keep your code simple and conscise.</p>
<h2 id="pass-arguments-using-the-bind-in-direct-calls">Pass arguments, using the "bind" (in 'direct' calls)</h2>
<p>As seen before, the method <code>&lt;instance&gt;.bind( method, **args, **kargs )</code> can make a lot for you.</p>
<p>You could do :</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>        <span class="n">button1</span><span class="o">=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>        <span class="n">button1</span><span class="p">[</span><span class="s2">&quot;onclick&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">button1</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span> <span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">button1</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>        <span class="n">button2</span><span class="o">=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">)</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        <span class="n">button2</span><span class="p">[</span><span class="s2">&quot;onclick&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">button2</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span> <span class="p">)</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">button2</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">,</span> <span class="n">my_arg</span><span class="p">):</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">my_arg</span> <span class="p">)</span>
</code></pre></div>
Here, the argument is passed during the interaction, to the callback.</p>
<p>It's not really a good practice, when you need to transfer <em>python values</em> ... Prefer the previous method (It's more readable, and avoid to have bigger interactions) !</p>
<p>This kind of form is needed when you want to send back <em>javascript values</em></p>
<p>Example : if you want to get back an input value in real time</p>
<p>using the <em>b'trick</em>, to ask <strong>htag</strong> to get a javascript statement. This trick let you declare statements (as byte string) which will be interpreted as a "javascript statement". It's really handy to interact easily, in bind methods only.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>        <span class="nb">input</span><span class="o">=</span><span class="n">Tag</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">_value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>        <span class="nb">input</span><span class="p">[</span><span class="s2">&quot;onkeyup&quot;</span><span class="p">]</span><span class="o">=</span><span class="nb">input</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;this.value&quot;</span> <span class="p">)</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="nb">input</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="k">def</span> <span class="nf">changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">,</span> <span class="n">own_value</span><span class="p">):</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">own_value</span> <span class="p">)</span>
</code></pre></div>
It's the "only way" (not really ... but the proper way, for sure), to get back a information from the client_side/javascript.</p>
<p>Another regular use of this form is :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">_value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="n">_onkeyup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">changed</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;this.value&quot;</span> <span class="p">))</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="k">def</span> <span class="nf">changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">own_value</span><span class="p">):</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">own_value</span> <span class="p">)</span>
</code></pre></div>
<p>note that the event onkeyup is binded on the self (not on the button as previously), so the object which send the event is 'self' ... and thus, the self is the object_which_has_emitted_the_event.</p>
<p>This kind of approach is more component oriented, when you want to make beautiful component.</p>
<h2 id="passing-arguments-in-undirect-calls">passing arguments (in "undirect calls"))</h2>
<p>Another regular approach, is to create a callback on the event : so the callback is called after the interaction.</p>
<p>But in all theses "undirect calls" : you can't get back values from client_side/javascript ...</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="k">lambda</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">))</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="k">lambda</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">))</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">my_val</span><span class="p">):</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">my_val</span> <span class="p">)</span>
</code></pre></div>
<p>or better (setting arguments in instance itself:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s2">&quot;ABCDEF&quot;</span><span class="p">:</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>            <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="k">lambda</span> <span class="n">object_which_has_emitted_the_event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">(</span> <span class="n">object_which_has_emitted_the_event</span><span class="o">.</span><span class="n">value</span> <span class="p">))</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">my_val</span><span class="p">):</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">my_val</span> <span class="p">)</span>
</code></pre></div>
<h2 id="the-oldhistoric-way">The old/historic way</h2>
<p>There is another way to do things, it's historical, it comes from the old gtag. But sometimes it's usefull too.</p>
<p>In gtag, the way to bind an event was .... here in htag :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="o">.</span><span class="n">clicked</span><span class="p">()</span> <span class="p">)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;hello&quot;</span> <span class="p">)</span>
</code></pre></div>
<p>and if you want to pass "python parameters" :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="o">.</span><span class="n">clicked</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txt</span><span class="p">):</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">txt</span> <span class="p">)</span>
</code></pre></div>
<p>and if you want to pass "javascript parameters" (using the <code>b'trick</code>)</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="o">.</span><span class="n">clicked</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;window.innerWidth&#39;</span><span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txt</span><span class="p">):</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">txt</span> <span class="p">)</span>
</code></pre></div>
The <code>&lt;instance&gt;.bind.&lt;method&gt;(*args,**kargs)</code> return a string (a javascript statement to do an interaction).
The 'method' must be declared on self instance. It's a lot simpler, but a lot less powerful.</p>
<p>By opposite, the <code>&lt;instance&gt;.bind( &lt;method&gt;, *args, **kargs)</code> return a Caller Object, which is rendered as a string (javascript statement). This second form is more versatile, because you can bind any python/callback method. And build better abstractions/components. <strong>But sometimes, you'll need to bind a real binded method ... which is not possible in some cases with this second form (during construction phases)</strong></p>
<p><strong>BE AWARE</strong> : if you are in a construction phase (<code>init(self)</code> or <code>__init__(self)</code>). New mechanisms (<code>&lt;instance&gt;.bind( &lt;method&gt;, *args, **kargs)</code>) can't work, because, at this time, in many cases, we don't know the parent/root of the instance ;-()</p>
<p>In that cases, the <code>&lt;instance&gt;.bind.&lt;method&gt;(*args,**kargs)</code> give better results.</p>
<h2 id="the-caller-object">The Caller object</h2>
<p>The Caller object (returned by the form <code>&lt;instance&gt;.bind( &lt;method&gt;, *args, **kargs)</code>) is (very) usefull. Because, you can chain events, and you can add customized javascript calls.</p>
<p>Here is an example of an interaction AND a post javascript statement.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;right click&quot;</span><span class="p">,</span><span class="n">_oncontextmenu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="p">)</span><span class="o">+</span><span class="s2">&quot;return false&quot;</span><span class="p">)</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;right clicked&quot;</span> <span class="p">)</span>
</code></pre></div>
If you right click on the button, it will produce an htag interaction, and will stop the event (prevent to display the real/default contextmenu). In 99% of my cases, I use this, for my "oncontextmenu" events</p>
<p>Here is an example of chaining events.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked2</span><span class="p">))</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;clicked&quot;</span> <span class="p">)</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="k">def</span> <span class="nf">clicked2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>        <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;clicked2&quot;</span> <span class="p">)</span>
</code></pre></div>
It's very rare to use this feature. But can be usefull in complex components, to chain others treatments. BTW, it produces only one htag interaction (by opposite of the old form, where you could do the same, like <code>_onclick=self.bind.clicked()+";"+self.bind.clicked2()</code> ... but avoid that, it makes 2 htag interactions !)</p>
<p>And of course, you can mix them</p>
<h2 id="others-ways-using-tagjs-property">Others ways (using <code>Tag.js</code> property)</h2>
<p>Each htag's Tag instance got a 'js' property. This js property can contain javascript to be executed at each Tag rendering.</p>
<p>Here is a very classical use :
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">div</span><span class="p">):</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">_value</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">js</span><span class="o">=</span><span class="s2">&quot;self.focus()&quot;</span><span class="p">)</span> <span class="c1"># here the .js is for the input.</span>
</code></pre></div></p>
<p>So, every time the Tag 'App' is rendered, it creates an input field, and take the focus (<code>self</code> is a special js var, in this context, to quickly access to the input element)</p>
<p><strong>For versions &lt;= 0.9.13</strong> : the <code>self</code> was named <code>tag</code> (which worked too). You could use both, to refer to the js/nodeElement of the tag, but prefer to use <code>self</code> ;-)
<strong>For versions &lt;= 0.13.0</strong> : the <code>self</code>, and <code>tag</code> was accepted
<strong>For versions &gt; 0.20.0</strong> : only <code>self</code> ;-)</p>
<p>Another approach could be :</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">div</span><span class="p">):</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>        <span class="bp">self</span><span class="o">+=</span><span class="n">Tag</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">_value</span><span class="o">=</span><span class="s2">&quot;default&quot;</span> <span class="p">)</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">js</span> <span class="o">=</span> <span class="s2">&quot;self.childNodes[0].focus()&quot;</span>
</code></pre></div>
In this case, it's the App Tag which use its js property to set the focus on its child (in a js way) (<code>self</code> is a special js var, in this context, to quickly access to the App/Tag.div js/nodeElement)</p>
<p>So, this js property can send back data from client_side/gui too.</p>
<p>Here is an example :</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">js</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="o">.</span><span class="n">starting</span><span class="p">(</span> <span class="sa">b</span><span class="s1">&#39;window.innerWidth&#39;</span> <span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="k">def</span> <span class="nf">starting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;innerWidth&quot;</span><span class="p">,</span><span class="n">width</span><span class="p">)</span>
</code></pre></div>
As seen before, the newest <code>&lt;instance&gt;.bind( &lt;method&gt;, *args, **kargs)</code> couldn't be used for this purpose. Keep in mind, that this form should be used in binding events (because it needs to be "attached" in the dom tree)</p>
<h2 id="others-ways-using-tagcall-method">Others ways (using <code>Tag.call</code> method)</h2>
<p>Each htag's Tag instance got a a <code>&lt;instance&gt;.call(js)</code> method to send an UNIQUE custom js statements during an interaction.</p>
<p>It's a little weird here. But it's really important to understand the difference between <code>self.js="js_statement()"</code> and <code>self.call("js_statement()")</code>.</p>
<ul>
<li><code>self.js="js_statement()"</code>: will execute the JS at each rendering of the object (ex: some html object (those from <a href="https://materializecss.com/">materialize</a> need to be initialized with javascript statements, it's the perfect way to do that, in that place)</li>
<li><code>self.call("js_statement()")</code> : will execute the JS one time (when it's called) (ex: some html object need to change its aspect thru js call ... think : close a menu, etc ...)</li>
</ul>
<p>So, this thing will work as the previous one .. except ..</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">call</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="o">.</span><span class="n">starting</span><span class="p">(</span> <span class="sa">b</span><span class="s1">&#39;window.innerWidth&#39;</span> <span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="k">def</span> <span class="nf">starting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;innerWidth&quot;</span><span class="p">,</span><span class="n">width</span><span class="p">)</span>
</code></pre></div>
Except ... here, the js is sent only at construction time (in previous one : the js is sent at each rendering).
The nuance is really subtil.</p>
<p>BTW, you can use a simple form (versions &gt;= 0.9.14), which does exactly the same thing ^^:
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">starting</span><span class="p">(</span> <span class="sa">b</span><span class="s1">&#39;window.innerWidth&#39;</span> <span class="p">)</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="k">def</span> <span class="nf">starting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="p">):</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;innerWidth&quot;</span><span class="p">,</span><span class="n">width</span><span class="p">)</span>
</code></pre></div>
Here : <code>self.call.starting( b'window.innerWidth' )</code> is the short form for <code>self.call( self.bind.starting( b'window.innerWidth' ) )</code>, it's exactly the same !</p>
<p><strong>IMPORTANT</strong> :
The last 2 examples are BAD PRACTICE, because the <code>self.call</code> (during construction phase) can only work when it's in the main tag (which is managed by the Runner (TODO:link)). If it was in an <code>init</code> from a component : it can't work (because we don't know the parent/root at this time). The good practice is DON'T USE <code>self.call</code> IN A CONSTRUCTOR (prefer <code>self.js</code>)</p>
<h2 id="using-the-event-properties-from-guijs">Using the <code>event</code> properties from gui/js</h2>
<p>Some times, it can be usefull to get back the properties of the js event, when you want to get back the key pressed, or the x/y coordinates of a click, etc ...</p>
<p>Theses properties are stocked in the "event" property of an HTag instance, as a dict (during an interaction).</p>
<p>You can display them, like that:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kn">from</span> <span class="nn">htag</span> <span class="kn">import</span> <span class="n">Tag</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">Tag</span><span class="o">.</span><span class="n">body</span><span class="p">):</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>        <span class="bp">self</span> <span class="o">+=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">button</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">_onclick</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clicked</span><span class="p">)</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>        <span class="nb">print</span><span class="p">(</span> <span class="n">o</span><span class="o">.</span><span class="n">event</span> <span class="p">)</span>
</code></pre></div>
<h2 id="using-the-expose-decorator">Using the <code>@expose</code> decorator</h2>
<p>See <a href="../js_bidirectionnal/">@expose</a> !</p>
<p>...TODO...</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>